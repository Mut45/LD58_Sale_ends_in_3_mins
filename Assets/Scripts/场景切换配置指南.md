# åœºæ™¯åˆ‡æ¢åŠŸèƒ½é…ç½®æŒ‡å—

## æ¦‚è¿°
å·²ç»ä¸ºå•†åŸé¡µé¢å’Œè´­ç‰©è½¦é¡µé¢æ·»åŠ äº†å®Œæ•´çš„åœºæ™¯åˆ‡æ¢åŠŸèƒ½ã€‚ç°åœ¨æ‰€æœ‰æŒ‰é’®éƒ½å¯ä»¥æ­£ç¡®è·³è½¬åˆ°å¯¹åº”çš„åœºæ™¯ã€‚

## å·²æ·»åŠ çš„åŠŸèƒ½

### ğŸª å•†åŸé¡µé¢æŒ‰é’®
1. **è´­ç‰©è½¦æŒ‰é’®** - è·³è½¬åˆ°è´­ç‰©è½¦åœºæ™¯
2. **æ¸¸æˆåº“æŒ‰é’®** - è·³è½¬åˆ°æ¸¸æˆåº“åœºæ™¯

### ğŸ›’ è´­ç‰©è½¦é¡µé¢æŒ‰é’®
1. **ç»§ç»­è´­ç‰©æŒ‰é’®** - è¿”å›å•†åŸåœºæ™¯
2. **è·³è½¬è‡³æ”¯ä»˜æŒ‰é’®** - è·³è½¬åˆ°æ”¯ä»˜åœºæ™¯

## æ–°å¢çš„è„šæœ¬

### GameSceneManager.cs
- **ä½œç”¨**ï¼šç»Ÿä¸€ç®¡ç†æ‰€æœ‰åœºæ™¯åˆ‡æ¢
- **åŠŸèƒ½**ï¼š
  - åœºæ™¯åŠ è½½
  - åœºæ™¯åç§°ç®¡ç†
  - åœºæ™¯å­˜åœ¨æ€§æ£€æŸ¥
  - å•ä¾‹æ¨¡å¼ï¼Œç¡®ä¿å…¨å±€å”¯ä¸€

## Unityè®¾ç½®æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºGameSceneManagerå¯¹è±¡

1. **åˆ›å»ºGameObject**
   - å³é”®Hierarchy â†’ Create Empty
   - é‡å‘½åä¸º"GameSceneManager"

2. **æ·»åŠ è„šæœ¬ç»„ä»¶**
   - é€‰ä¸­GameSceneManager
   - Add Component â†’ Scripts â†’ GameSceneManager

3. **é…ç½®åœºæ™¯åç§°**
   - åœ¨Inspectorä¸­æ‰¾åˆ°GameSceneManagerè„šæœ¬
   - è®¾ç½®Scene Nameséƒ¨åˆ†ï¼š
     - Store Scene Name: "StoreScene"
     - Cart Scene Name: "CartScene"  
     - Library Scene Name: "LibraryScene"
     - Checkout Scene Name: "CheckoutScene"

### ç¬¬äºŒæ­¥ï¼šåˆ›å»ºåœºæ™¯æ–‡ä»¶

1. **åˆ›å»ºå•†åŸåœºæ™¯**
   - File â†’ New Scene
   - ä¿å­˜ä¸º"StoreScene.unity"

2. **åˆ›å»ºè´­ç‰©è½¦åœºæ™¯**
   - File â†’ New Scene
   - ä¿å­˜ä¸º"CartScene.unity"

3. **åˆ›å»ºæ¸¸æˆåº“åœºæ™¯**
   - File â†’ New Scene
   - ä¿å­˜ä¸º"LibraryScene.unity"

4. **åˆ›å»ºæ”¯ä»˜åœºæ™¯**
   - File â†’ New Scene
   - ä¿å­˜ä¸º"CheckoutScene.unity"

### ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ åˆ°Build Settings

1. **æ‰“å¼€Build Settings**
   - File â†’ Build Settings

2. **æ·»åŠ åœºæ™¯**
   - å°†åˆ›å»ºçš„æ‰€æœ‰åœºæ™¯æ‹–æ‹½åˆ°Scenes In Buildåˆ—è¡¨ä¸­
   - ç¡®ä¿é¡ºåºæ­£ç¡®ï¼š
     - 0: StoreScene
     - 1: CartScene
     - 2: LibraryScene
     - 3: CheckoutScene

## è„šæœ¬é…ç½®è¯´æ˜

### StoreUIè„šæœ¬é…ç½®
- **Cart Scene Name**: è´­ç‰©è½¦åœºæ™¯åç§°
- **Library Scene Name**: æ¸¸æˆåº“åœºæ™¯åç§°
- ç°åœ¨ä½¿ç”¨GameSceneManagerè¿›è¡Œåœºæ™¯åˆ‡æ¢

### CartPageUIè„šæœ¬é…ç½®
- **Store Scene Name**: å•†åŸåœºæ™¯åç§°
- **Checkout Scene Name**: æ”¯ä»˜åœºæ™¯åç§°
- ç°åœ¨ä½¿ç”¨GameSceneManagerè¿›è¡Œåœºæ™¯åˆ‡æ¢

## åœºæ™¯åˆ‡æ¢æµç¨‹

### å•†åŸé¡µé¢ â†’ è´­ç‰©è½¦é¡µé¢
```
ç”¨æˆ·ç‚¹å‡»è´­ç‰©è½¦æŒ‰é’®
â†’ StoreUI.OpenShoppingCart()
â†’ GameSceneManager.LoadCartScene()
â†’ SceneManager.LoadScene("CartScene")
```

### å•†åŸé¡µé¢ â†’ æ¸¸æˆåº“é¡µé¢
```
ç”¨æˆ·ç‚¹å‡»æ¸¸æˆåº“æŒ‰é’®
â†’ StoreUI.OpenGameLibrary()
â†’ GameSceneManager.LoadLibraryScene()
â†’ SceneManager.LoadScene("LibraryScene")
```

### è´­ç‰©è½¦é¡µé¢ â†’ å•†åŸé¡µé¢
```
ç”¨æˆ·ç‚¹å‡»ç»§ç»­è´­ç‰©æŒ‰é’®
â†’ CartPageUI.OnContinueShoppingClicked()
â†’ GameSceneManager.LoadStoreScene()
â†’ SceneManager.LoadScene("StoreScene")
```

### è´­ç‰©è½¦é¡µé¢ â†’ æ”¯ä»˜é¡µé¢
```
ç”¨æˆ·ç‚¹å‡»è·³è½¬è‡³æ”¯ä»˜æŒ‰é’®
â†’ CartPageUI.OnProceedToCheckoutClicked()
â†’ æ£€æŸ¥è´­ç‰©è½¦æ˜¯å¦ä¸ºç©º
â†’ GameSceneManager.LoadCheckoutScene()
â†’ SceneManager.LoadScene("CheckoutScene")
```

## æ•°æ®æŒä¹…åŒ–

### å•ä¾‹ç®¡ç†å™¨ä¿æŒæ•°æ®
- **ShoppingCart**: è´­ç‰©è½¦æ•°æ®åœ¨åœºæ™¯é—´ä¿æŒ
- **GameLibrary**: æ¸¸æˆåº“æ•°æ®åœ¨åœºæ™¯é—´ä¿æŒ
- **GameDataManager**: æ¸¸æˆæ•°æ®åœ¨åœºæ™¯é—´ä¿æŒ
- **GameSceneManager**: åœºæ™¯ç®¡ç†å™¨åœ¨åœºæ™¯é—´ä¿æŒ

### ä½¿ç”¨DontDestroyOnLoad
æ‰€æœ‰ç®¡ç†å™¨éƒ½ä½¿ç”¨DontDestroyOnLoadï¼Œç¡®ä¿æ•°æ®åœ¨åœºæ™¯åˆ‡æ¢æ—¶ä¸ä¼šä¸¢å¤±ã€‚

## æµ‹è¯•åœºæ™¯åˆ‡æ¢

### æµ‹è¯•æ­¥éª¤
1. è¿è¡Œæ¸¸æˆ
2. åœ¨å•†åŸé¡µé¢ç‚¹å‡»è´­ç‰©è½¦æŒ‰é’®
3. éªŒè¯æ˜¯å¦æ­£ç¡®è·³è½¬åˆ°è´­ç‰©è½¦é¡µé¢
4. åœ¨è´­ç‰©è½¦é¡µé¢ç‚¹å‡»ç»§ç»­è´­ç‰©æŒ‰é’®
5. éªŒè¯æ˜¯å¦æ­£ç¡®è¿”å›å•†åŸé¡µé¢
6. æµ‹è¯•å…¶ä»–æŒ‰é’®çš„è·³è½¬åŠŸèƒ½

### é¢„æœŸç»“æœ
- æ‰€æœ‰æŒ‰é’®éƒ½èƒ½æ­£ç¡®è·³è½¬åˆ°å¯¹åº”åœºæ™¯
- è´­ç‰©è½¦æ•°æ®åœ¨åœºæ™¯é—´ä¿æŒ
- æ¸¸æˆåº“æ•°æ®åœ¨åœºæ™¯é—´ä¿æŒ
- åœºæ™¯åˆ‡æ¢æµç•…ï¼Œæ— é”™è¯¯

## å¸¸è§é—®é¢˜

### é—®é¢˜1ï¼šåœºæ™¯åˆ‡æ¢å¤±è´¥
**ç—‡çŠ¶**ï¼šç‚¹å‡»æŒ‰é’®åæ²¡æœ‰è·³è½¬åˆ°å…¶ä»–åœºæ™¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥GameSceneManageræ˜¯å¦å­˜åœ¨
2. æ£€æŸ¥åœºæ™¯åç§°æ˜¯å¦æ­£ç¡®è®¾ç½®
3. æ£€æŸ¥åœºæ™¯æ˜¯å¦æ·»åŠ åˆ°Build Settings
4. æŸ¥çœ‹Consoleä¸­çš„é”™è¯¯ä¿¡æ¯

### é—®é¢˜2ï¼šæ•°æ®ä¸¢å¤±
**ç—‡çŠ¶**ï¼šåœºæ™¯åˆ‡æ¢åè´­ç‰©è½¦æˆ–æ¸¸æˆåº“æ•°æ®ä¸¢å¤±

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®ä¿ç®¡ç†å™¨å¯¹è±¡ä½¿ç”¨DontDestroyOnLoad
2. æ£€æŸ¥ç®¡ç†å™¨æ˜¯å¦æ­£ç¡®è®¾ç½®ä¸ºå•ä¾‹
3. ç¡®ä¿åœ¨åœºæ™¯ä¸­åˆ›å»ºäº†ç®¡ç†å™¨å¯¹è±¡

### é—®é¢˜3ï¼šåœºæ™¯åç§°é”™è¯¯
**ç—‡çŠ¶**ï¼šConsoleæ˜¾ç¤º"Scene name not set"é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. åœ¨GameSceneManagerä¸­æ­£ç¡®è®¾ç½®åœºæ™¯åç§°
2. ç¡®ä¿åœºæ™¯åç§°ä¸Build Settingsä¸­çš„åç§°ä¸€è‡´
3. æ£€æŸ¥åœºæ™¯æ–‡ä»¶æ˜¯å¦æ­£ç¡®ä¿å­˜

## æ‰©å±•åŠŸèƒ½

### æ·»åŠ åœºæ™¯åˆ‡æ¢åŠ¨ç”»
å¯ä»¥åœ¨GameSceneManagerä¸­æ·»åŠ åœºæ™¯åˆ‡æ¢åŠ¨ç”»ï¼š
```csharp
public void LoadSceneWithFade(string sceneName)
{
    // æ·»åŠ æ·¡å…¥æ·¡å‡ºæ•ˆæœ
    StartCoroutine(FadeAndLoadScene(sceneName));
}
```

### æ·»åŠ åœºæ™¯é¢„åŠ è½½
```csharp
public void PreloadScene(string sceneName)
{
    SceneManager.LoadSceneAsync(sceneName, LoadSceneMode.Additive);
}
```

ç°åœ¨ä½ çš„åœºæ™¯åˆ‡æ¢åŠŸèƒ½å·²ç»å®Œå…¨é…ç½®å¥½äº†ï¼æ‰€æœ‰æŒ‰é’®éƒ½å¯ä»¥æ­£ç¡®åœ°åœ¨ä¸åŒåœºæ™¯ä¹‹é—´è·³è½¬ã€‚




