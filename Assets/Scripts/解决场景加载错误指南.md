# 解决场景加载错误指南

## 错误原因
错误信息：`Scene 'Cart_Page' couldn't be loaded because it has not been added to the build settings`

这个错误表示场景文件存在，但没有添加到Unity的Build Settings中，所以无法加载。

## 解决步骤

### 第一步：检查场景文件是否存在

1. **打开Project面板**
2. **查找场景文件**
   - 在Assets文件夹中查找以下场景文件：
     - `Shop_Page.unity`
     - `Cart_Page.unity`
     - `Library_Page.unity`
     - `CheckoutScene.unity`

### 第二步：创建缺失的场景文件

如果场景文件不存在，需要创建：

1. **创建商城场景**
   - File → New Scene
   - 保存为 `Shop_Page.unity`

2. **创建购物车场景**
   - File → New Scene
   - 保存为 `Cart_Page.unity`

3. **创建游戏库场景**
   - File → New Scene
   - 保存为 `Library_Page.unity`

4. **创建支付场景**
   - File → New Scene
   - 保存为 `CheckoutScene.unity`

### 第三步：添加场景到Build Settings

1. **打开Build Settings**
   - File → Build Settings
   - 或者按快捷键 Ctrl+Shift+B (Windows) / Cmd+Shift+B (Mac)

2. **添加场景到Build Settings**
   - 将Project面板中的场景文件拖拽到"Scenes In Build"列表中
   - 或者点击"Add Open Scenes"按钮添加当前打开的场景

3. **确保场景顺序正确**
   ```
   Scenes In Build:
   0: Shop_Page
   1: Cart_Page
   2: Library_Page
   3: CheckoutScene
   ```

### 第四步：验证场景名称

确保GameSceneManager中的场景名称与实际文件名一致：

```csharp
[Header("Scene Names")]
[SerializeField] private string storeSceneName = "Shop_Page";
[SerializeField] private string cartSceneName = "Cart_Page";
[SerializeField] private string librarySceneName = "Library_Page";
[SerializeField] private string checkoutSceneName = "CheckoutScene";
```

## 详细操作步骤

### 方法一：通过拖拽添加场景

1. **打开Build Settings窗口**
   - File → Build Settings

2. **从Project面板拖拽场景**
   - 在Project面板中找到场景文件
   - 直接拖拽到Build Settings的"Scenes In Build"区域

3. **调整场景顺序**
   - 拖拽场景在列表中的位置来调整顺序
   - 确保Index 0是启动场景

### 方法二：通过Add Open Scenes按钮

1. **打开要添加的场景**
   - 双击Project面板中的场景文件

2. **打开Build Settings**
   - File → Build Settings

3. **点击Add Open Scenes**
   - 点击"Add Open Scenes"按钮
   - 当前打开的场景会被添加到列表中

### 方法三：通过Add Scenes按钮

1. **打开Build Settings**
   - File → Build Settings

2. **点击Add Scenes**
   - 点击"Add Scenes"按钮
   - 在弹出的文件选择器中选择场景文件

## 验证步骤

### 检查Build Settings
1. 打开Build Settings窗口
2. 确认所有场景都在"Scenes In Build"列表中
3. 确认场景名称与代码中的名称一致

### 测试场景切换
1. 运行游戏
2. 点击购物车按钮
3. 检查是否成功跳转到购物车场景
4. 测试其他按钮的场景切换功能

## 常见问题

### 问题1：场景文件不存在
**症状**：在Project面板中找不到场景文件

**解决方案**：
1. 创建新的场景文件
2. 按照正确的命名规则保存
3. 添加到Build Settings

### 问题2：场景名称不匹配
**症状**：场景文件存在但名称与代码中的不一致

**解决方案**：
1. 检查GameSceneManager中的场景名称
2. 确保与Build Settings中的名称一致
3. 或者重命名场景文件以匹配代码

### 问题3：场景顺序错误
**症状**：场景可以加载但顺序不正确

**解决方案**：
1. 在Build Settings中调整场景顺序
2. 确保Index 0是启动场景
3. 其他场景按逻辑顺序排列

## 最佳实践

### 场景命名规范
- 使用下划线分隔单词：`Shop_Page`、`Cart_Page`
- 保持命名一致性
- 避免使用空格和特殊字符

### Build Settings管理
- 定期检查Build Settings
- 确保所有需要的场景都已添加
- 保持场景顺序的逻辑性

### 版本控制
- 将Build Settings文件纳入版本控制
- 确保团队成员使用相同的场景配置

## 快速解决方案

如果你只是想快速解决当前问题：

1. **打开Build Settings** (File → Build Settings)
2. **添加所有场景**：
   - 将 `Shop_Page.unity` 拖拽到Scenes In Build
   - 将 `Cart_Page.unity` 拖拽到Scenes In Build
   - 将 `Library_Page.unity` 拖拽到Scenes In Build
   - 将 `CheckoutScene.unity` 拖拽到Scenes In Build
3. **保存设置**
4. **测试场景切换**

完成这些步骤后，场景切换功能应该就能正常工作了！




